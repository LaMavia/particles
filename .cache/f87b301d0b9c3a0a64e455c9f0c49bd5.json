{"dependencies":[{"name":"./vector","loc":{"line":3,"column":23},"parent":"/mnt/c/Users/xelox/Projects/Canvas/gravity-simulation/src/ts/particle.ts","resolved":"/mnt/c/Users/xelox/Projects/Canvas/gravity-simulation/src/ts/vector.ts"}],"generated":{"js":"\"use strict\";exports.__esModule=!0;var t=require(\"./vector\"),s=function(){function s(t,s,a,i,r,o,h){void 0===o&&(o=!1),void 0===h&&(h=s),this.pos=t,this.m=s,this.r=h,this.a=a,this.v=i,this.ctx=r,this.id=(Math.random()*Math.pow(10,12)).toString(16),this.added=o}return s.prototype.applyForce=function(t,s){var a=this;s/=1e3;var i=t.map(function(t){return t/a.m});this.a.add(i);var r=this.a.array.map(function(t){return t*s});this.v.add(r),this.pos.add(this.v.array.map(function(t){return t*s}))},s.prototype.update=function(a,i){var r=this,o=!1,h=a.particles.filter(function(t){return t.id!==r.id}).reduce(function(i,h){if(o)return i;var n=s.calcForce(r,h),e=n[0],c=n[1];if(h.pos.dist(r.pos.array)<r.r+h.r){var p=r.v.scale(r.m),u=h.v.scale(h.m),l=(p.add(u.array).scale(1/(r.m+h.m)),new s(r.pos,r.m+h.m,new t.Vector(0,0),new t.Vector(0,0),r.ctx,!1,Math.sqrt(Math.pow(r.r,2)+Math.pow(h.r,2))));return console.log(l),a.particles.push(l),a.particles=a.particles.filter(function(t){return!(t.id===r.id||t.id===h.id)}),o=!0,i}return[i[0]+e,i[1]+c]},[0,0]);this.applyForce(h,i);(this.pos.h+this.r>this.ctx.canvas.width||this.pos.h-this.r<=0)&&(this.v.mult([-.8,.8]),this.a.mult([-.8,.8])),(this.pos.v+this.r>this.ctx.canvas.height||this.pos.v-this.r<=0)&&(this.v.mult([.8,-.8]),this.a.mult([.8,-.8]))},s.prototype.draw=function(t){t.beginPath(),t.arc(this.pos.h,this.pos.v,this.r,0,2*Math.PI),this.added?t.fillStyle=\"red\":t.fillStyle=\"white\",t.fill(),t.closePath()},s.calcDist=function(t,s){return Math.sign(t.pos.h-s.pos.h)*Math.sign(t.pos.v-s.pos.v)*t.pos.dist(s.pos.array)},s.calcAngle=function(t,s){var a=Math.abs(t.pos.h-s.pos.h),i=Math.abs(t.pos.v-s.pos.v);return Math.atan(i/a)},s.calcRatio=function(t,s){var a=Math.abs(t.pos.h-s.pos.h)||1,i=Math.abs(t.pos.v-s.pos.v)||1;return[i/a,a/i]},s.calcForce=function(t,a){var i,r,o,h=6.67*Math.pow(10,-5),n=s.calcDist(t,a),e=(i=t.m,r=a.m,o=n,h*i*r/Math.pow(o,2)),c=s.calcAngle(t,a);return[-Math.sign(t.pos.h-a.pos.h)*e*Math.cos(c),-Math.sign(t.pos.v-a.pos.v)*e*Math.sin(c)]},s}();exports.Particle=s;","map":{"mappings":[{"source":"ts/particle.ts","name":null,"original":{"line":3,"column":13},"generated":{"line":1,"column":0}},{"source":"ts/particle.ts","name":null,"original":{"line":3,"column":13},"generated":{"line":1,"column":13}},{"source":"ts/particle.ts","name":null,"original":{"line":3,"column":13},"generated":{"line":1,"column":21}},{"source":"ts/particle.ts","name":null,"original":{"line":3,"column":13},"generated":{"line":1,"column":33}},{"source":"ts/particle.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":35}},{"source":"ts/particle.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":39}},{"source":"ts/particle.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":41}},{"source":"ts/particle.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":49}},{"source":"ts/particle.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":61}},{"source":"ts/particle.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":63}},{"source":"ts/particle.ts","name":null,"original":{"line":12,"column":2},"generated":{"line":1,"column":74}},{"source":"ts/particle.ts","name":null,"original":{"line":12,"column":2},"generated":{"line":1,"column":83}},{"source":"ts/particle.ts","name":null,"original":{"line":12,"column":14},"generated":{"line":1,"column":85}},{"source":"ts/particle.ts","name":null,"original":{"line":12,"column":32},"generated":{"line":1,"column":87}},{"source":"ts/particle.ts","name":null,"original":{"line":12,"column":46},"generated":{"line":1,"column":89}},{"source":"ts/particle.ts","name":null,"original":{"line":12,"column":58},"generated":{"line":1,"column":91}},{"source":"ts/particle.ts","name":null,"original":{"line":12,"column":70},"generated":{"line":1,"column":93}},{"source":"ts/particle.ts","name":null,"original":{"line":12,"column":101},"generated":{"line":1,"column":95}},{"source":"ts/particle.ts","name":null,"original":{"line":12,"column":125},"generated":{"line":1,"column":97}},{"source":"ts/particle.ts","name":null,"original":{"line":12,"column":101},"generated":{"line":1,"column":105}},{"source":"ts/particle.ts","name":null,"original":{"line":12,"column":101},"generated":{"line":1,"column":109}},{"source":"ts/particle.ts","name":null,"original":{"line":12,"column":101},"generated":{"line":1,"column":113}},{"source":"ts/particle.ts","name":null,"original":{"line":12,"column":101},"generated":{"line":1,"column":116}},{"source":"ts/particle.ts","name":null,"original":{"line":12,"column":125},"generated":{"line":1,"column":124}},{"source":"ts/particle.ts","name":null,"original":{"line":12,"column":125},"generated":{"line":1,"column":128}},{"source":"ts/particle.ts","name":null,"original":{"line":12,"column":125},"generated":{"line":1,"column":132}},{"source":"ts/particle.ts","name":null,"original":{"line":12,"column":125},"generated":{"line":1,"column":134}},{"source":"ts/particle.ts","name":null,"original":{"line":13,"column":9},"generated":{"line":1,"column":137}},{"source":"ts/particle.ts","name":null,"original":{"line":13,"column":9},"generated":{"line":1,"column":142}},{"source":"ts/particle.ts","name":null,"original":{"line":13,"column":15},"generated":{"line":1,"column":146}},{"source":"ts/particle.ts","name":null,"original":{"line":14,"column":9},"generated":{"line":1,"column":148}},{"source":"ts/particle.ts","name":null,"original":{"line":14,"column":9},"generated":{"line":1,"column":153}},{"source":"ts/particle.ts","name":null,"original":{"line":14,"column":13},"generated":{"line":1,"column":155}},{"source":"ts/particle.ts","name":null,"original":{"line":15,"column":9},"generated":{"line":1,"column":157}},{"source":"ts/particle.ts","name":null,"original":{"line":15,"column":9},"generated":{"line":1,"column":162}},{"source":"ts/particle.ts","name":null,"original":{"line":15,"column":13},"generated":{"line":1,"column":164}},{"source":"ts/particle.ts","name":null,"original":{"line":16,"column":9},"generated":{"line":1,"column":166}},{"source":"ts/particle.ts","name":null,"original":{"line":16,"column":9},"generated":{"line":1,"column":171}},{"source":"ts/particle.ts","name":null,"original":{"line":16,"column":13},"generated":{"line":1,"column":173}},{"source":"ts/particle.ts","name":null,"original":{"line":17,"column":9},"generated":{"line":1,"column":175}},{"source":"ts/particle.ts","name":null,"original":{"line":17,"column":9},"generated":{"line":1,"column":180}},{"source":"ts/particle.ts","name":null,"original":{"line":17,"column":13},"generated":{"line":1,"column":182}},{"source":"ts/particle.ts","name":null,"original":{"line":19,"column":9},"generated":{"line":1,"column":184}},{"source":"ts/particle.ts","name":null,"original":{"line":19,"column":9},"generated":{"line":1,"column":189}},{"source":"ts/particle.ts","name":null,"original":{"line":19,"column":15},"generated":{"line":1,"column":193}},{"source":"ts/particle.ts","name":null,"original":{"line":20,"column":9},"generated":{"line":1,"column":195}},{"source":"ts/particle.ts","name":null,"original":{"line":20,"column":9},"generated":{"line":1,"column":200}},{"source":"ts/particle.ts","name":null,"original":{"line":20,"column":15},"generated":{"line":1,"column":204}},{"source":"ts/particle.ts","name":null,"original":{"line":20,"column":20},"generated":{"line":1,"column":209}},{"source":"ts/particle.ts","name":null,"original":{"line":20,"column":31},"generated":{"line":1,"column":218}},{"source":"ts/particle.ts","name":null,"original":{"line":20,"column":31},"generated":{"line":1,"column":223}},{"source":"ts/particle.ts","name":null,"original":{"line":20,"column":31},"generated":{"line":1,"column":227}},{"source":"ts/particle.ts","name":null,"original":{"line":20,"column":35},"generated":{"line":1,"column":230}},{"source":"ts/particle.ts","name":null,"original":{"line":20,"column":39},"generated":{"line":1,"column":235}},{"source":"ts/particle.ts","name":null,"original":{"line":20,"column":48},"generated":{"line":1,"column":244}},{"source":"ts/particle.ts","name":null,"original":{"line":21,"column":9},"generated":{"line":1,"column":248}},{"source":"ts/particle.ts","name":null,"original":{"line":21,"column":9},"generated":{"line":1,"column":253}},{"source":"ts/particle.ts","name":null,"original":{"line":21,"column":17},"generated":{"line":1,"column":259}},{"source":"ts/particle.ts","name":null,"original":{"line":143,"column":0},"generated":{"line":1,"column":261}},{"source":"ts/particle.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":268}},{"source":"ts/particle.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":270}},{"source":"ts/particle.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":280}},{"source":"ts/particle.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":291}},{"source":"ts/particle.ts","name":null,"original":{"line":24,"column":13},"generated":{"line":1,"column":300}},{"source":"ts/particle.ts","name":null,"original":{"line":24,"column":26},"generated":{"line":1,"column":302}},{"source":"ts/particle.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":305}},{"source":"ts/particle.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":309}},{"source":"ts/particle.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":311}},{"source":"ts/particle.ts","name":null,"original":{"line":25,"column":9},"generated":{"line":1,"column":316}},{"source":"ts/particle.ts","name":null,"original":{"line":25,"column":12},"generated":{"line":1,"column":319}},{"source":"ts/particle.ts","name":null,"original":{"line":26,"column":10},"generated":{"line":1,"column":323}},{"source":"ts/particle.ts","name":null,"original":{"line":26,"column":10},"generated":{"line":1,"column":327}},{"source":"ts/particle.ts","name":null,"original":{"line":26,"column":14},"generated":{"line":1,"column":329}},{"source":"ts/particle.ts","name":null,"original":{"line":26,"column":16},"generated":{"line":1,"column":331}},{"source":"ts/particle.ts","name":null,"original":{"line":26,"column":20},"generated":{"line":1,"column":335}},{"source":"ts/particle.ts","name":null,"original":{"line":26,"column":20},"generated":{"line":1,"column":344}},{"source":"ts/particle.ts","name":null,"original":{"line":26,"column":25},"generated":{"line":1,"column":347}},{"source":"ts/particle.ts","name":null,"original":{"line":26,"column":25},"generated":{"line":1,"column":354}},{"source":"ts/particle.ts","name":null,"original":{"line":26,"column":27},"generated":{"line":1,"column":356}},{"source":"ts/particle.ts","name":null,"original":{"line":26,"column":32},"generated":{"line":1,"column":358}},{"source":"ts/particle.ts","name":null,"original":{"line":27,"column":9},"generated":{"line":1,"column":362}},{"source":"ts/particle.ts","name":null,"original":{"line":27,"column":9},"generated":{"line":1,"column":367}},{"source":"ts/particle.ts","name":null,"original":{"line":27,"column":11},"generated":{"line":1,"column":369}},{"source":"ts/particle.ts","name":null,"original":{"line":27,"column":15},"generated":{"line":1,"column":373}},{"source":"ts/particle.ts","name":null,"original":{"line":29,"column":10},"generated":{"line":1,"column":376}},{"source":"ts/particle.ts","name":null,"original":{"line":29,"column":10},"generated":{"line":1,"column":380}},{"source":"ts/particle.ts","name":null,"original":{"line":29,"column":14},"generated":{"line":1,"column":382}},{"source":"ts/particle.ts","name":null,"original":{"line":29,"column":19},"generated":{"line":1,"column":387}},{"source":"ts/particle.ts","name":null,"original":{"line":29,"column":21},"generated":{"line":1,"column":389}},{"source":"ts/particle.ts","name":null,"original":{"line":29,"column":27},"generated":{"line":1,"column":395}},{"source":"ts/particle.ts","name":null,"original":{"line":29,"column":31},"generated":{"line":1,"column":399}},{"source":"ts/particle.ts","name":null,"original":{"line":29,"column":31},"generated":{"line":1,"column":408}},{"source":"ts/particle.ts","name":null,"original":{"line":29,"column":36},"generated":{"line":1,"column":411}},{"source":"ts/particle.ts","name":null,"original":{"line":29,"column":36},"generated":{"line":1,"column":418}},{"source":"ts/particle.ts","name":null,"original":{"line":29,"column":38},"generated":{"line":1,"column":420}},{"source":"ts/particle.ts","name":null,"original":{"line":30,"column":9},"generated":{"line":1,"column":424}},{"source":"ts/particle.ts","name":null,"original":{"line":30,"column":9},"generated":{"line":1,"column":429}},{"source":"ts/particle.ts","name":null,"original":{"line":30,"column":11},"generated":{"line":1,"column":431}},{"source":"ts/particle.ts","name":null,"original":{"line":30,"column":15},"generated":{"line":1,"column":435}},{"source":"ts/particle.ts","name":null,"original":{"line":32,"column":9},"generated":{"line":1,"column":438}},{"source":"ts/particle.ts","name":null,"original":{"line":32,"column":9},"generated":{"line":1,"column":443}},{"source":"ts/particle.ts","name":null,"original":{"line":32,"column":13},"generated":{"line":1,"column":447}},{"source":"ts/particle.ts","name":null,"original":{"line":32,"column":17},"generated":{"line":1,"column":451}},{"source":"ts/particle.ts","name":null,"original":{"line":32,"column":22},"generated":{"line":1,"column":456}},{"source":"ts/particle.ts","name":null,"original":{"line":32,"column":24},"generated":{"line":1,"column":458}},{"source":"ts/particle.ts","name":null,"original":{"line":32,"column":30},"generated":{"line":1,"column":464}},{"source":"ts/particle.ts","name":null,"original":{"line":32,"column":34},"generated":{"line":1,"column":468}},{"source":"ts/particle.ts","name":null,"original":{"line":32,"column":34},"generated":{"line":1,"column":477}},{"source":"ts/particle.ts","name":null,"original":{"line":32,"column":39},"generated":{"line":1,"column":480}},{"source":"ts/particle.ts","name":null,"original":{"line":32,"column":39},"generated":{"line":1,"column":487}},{"source":"ts/particle.ts","name":null,"original":{"line":32,"column":41},"generated":{"line":1,"column":489}},{"source":"ts/particle.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":1,"column":495}},{"source":"ts/particle.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":1,"column":497}},{"source":"ts/particle.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":1,"column":507}},{"source":"ts/particle.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":1,"column":514}},{"source":"ts/particle.ts","name":null,"original":{"line":35,"column":9},"generated":{"line":1,"column":523}},{"source":"ts/particle.ts","name":null,"original":{"line":35,"column":41},"generated":{"line":1,"column":525}},{"source":"ts/particle.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":1,"column":528}},{"source":"ts/particle.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":1,"column":532}},{"source":"ts/particle.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":1,"column":534}},{"source":"ts/particle.ts","name":null,"original":{"line":36,"column":8},"generated":{"line":1,"column":539}},{"source":"ts/particle.ts","name":null,"original":{"line":36,"column":16},"generated":{"line":1,"column":542}},{"source":"ts/particle.ts","name":null,"original":{"line":38,"column":10},"generated":{"line":1,"column":544}},{"source":"ts/particle.ts","name":null,"original":{"line":37,"column":19},"generated":{"line":1,"column":546}},{"source":"ts/particle.ts","name":null,"original":{"line":37,"column":25},"generated":{"line":1,"column":548}},{"source":"ts/particle.ts","name":null,"original":{"line":37,"column":35},"generated":{"line":1,"column":558}},{"source":"ts/particle.ts","name":null,"original":{"line":37,"column":42},"generated":{"line":1,"column":565}},{"source":"ts/particle.ts","name":null,"original":{"line":37,"column":42},"generated":{"line":1,"column":574}},{"source":"ts/particle.ts","name":null,"original":{"line":37,"column":47},"generated":{"line":1,"column":577}},{"source":"ts/particle.ts","name":null,"original":{"line":37,"column":47},"generated":{"line":1,"column":584}},{"source":"ts/particle.ts","name":null,"original":{"line":37,"column":49},"generated":{"line":1,"column":586}},{"source":"ts/particle.ts","name":null,"original":{"line":37,"column":56},"generated":{"line":1,"column":591}},{"source":"ts/particle.ts","name":null,"original":{"line":37,"column":61},"generated":{"line":1,"column":593}},{"source":"ts/particle.ts","name":null,"original":{"line":38,"column":22},"generated":{"line":1,"column":598}},{"source":"ts/particle.ts","name":null,"original":{"line":38,"column":29},"generated":{"line":1,"column":605}},{"source":"ts/particle.ts","name":null,"original":{"line":38,"column":30},"generated":{"line":1,"column":614}},{"source":"ts/particle.ts","name":null,"original":{"line":38,"column":33},"generated":{"line":1,"column":616}},{"source":"ts/particle.ts","name":null,"original":{"line":39,"column":9},"generated":{"line":1,"column":619}},{"source":"ts/particle.ts","name":null,"original":{"line":39,"column":9},"generated":{"line":1,"column":622}},{"source":"ts/particle.ts","name":null,"original":{"line":39,"column":16},"generated":{"line":1,"column":624}},{"source":"ts/particle.ts","name":null,"original":{"line":39,"column":23},"generated":{"line":1,"column":631}},{"source":"ts/particle.ts","name":null,"original":{"line":40,"column":12},"generated":{"line":1,"column":633}},{"source":"ts/particle.ts","name":null,"original":{"line":40,"column":12},"generated":{"line":1,"column":637}},{"source":"ts/particle.ts","name":null,"original":{"line":40,"column":12},"generated":{"line":1,"column":639}},{"source":"ts/particle.ts","name":null,"original":{"line":40,"column":12},"generated":{"line":1,"column":641}},{"source":"ts/particle.ts","name":null,"original":{"line":40,"column":12},"generated":{"line":1,"column":651}},{"source":"ts/particle.ts","name":null,"original":{"line":40,"column":12},"generated":{"line":1,"column":653}},{"source":"ts/particle.ts","name":null,"original":{"line":40,"column":13},"generated":{"line":1,"column":656}},{"source":"ts/particle.ts","name":null,"original":{"line":40,"column":13},"generated":{"line":1,"column":658}},{"source":"ts/particle.ts","name":null,"original":{"line":40,"column":13},"generated":{"line":1,"column":660}},{"source":"ts/particle.ts","name":null,"original":{"line":40,"column":16},"generated":{"line":1,"column":663}},{"source":"ts/particle.ts","name":null,"original":{"line":40,"column":16},"generated":{"line":1,"column":665}},{"source":"ts/particle.ts","name":null,"original":{"line":40,"column":16},"generated":{"line":1,"column":667}},{"source":"ts/particle.ts","name":null,"original":{"line":42,"column":9},"generated":{"line":1,"column":670}},{"source":"ts/particle.ts","name":null,"original":{"line":41,"column":16},"generated":{"line":1,"column":673}},{"source":"ts/particle.ts","name":null,"original":{"line":41,"column":18},"generated":{"line":1,"column":675}},{"source":"ts/particle.ts","name":null,"original":{"line":41,"column":22},"generated":{"line":1,"column":679}},{"source":"ts/particle.ts","name":null,"original":{"line":41,"column":27},"generated":{"line":1,"column":684}},{"source":"ts/particle.ts","name":null,"original":{"line":41,"column":32},"generated":{"line":1,"column":686}},{"source":"ts/particle.ts","name":null,"original":{"line":41,"column":36},"generated":{"line":1,"column":690}},{"source":"ts/particle.ts","name":null,"original":{"line":42,"column":13},"generated":{"line":1,"column":697}},{"source":"ts/particle.ts","name":null,"original":{"line":42,"column":18},"generated":{"line":1,"column":699}},{"source":"ts/particle.ts","name":null,"original":{"line":42,"column":22},"generated":{"line":1,"column":701}},{"source":"ts/particle.ts","name":null,"original":{"line":42,"column":24},"generated":{"line":1,"column":703}},{"source":"ts/particle.ts","name":null,"original":{"line":42,"column":27},"generated":{"line":1,"column":705}},{"source":"ts/particle.ts","name":null,"original":{"line":43,"column":14},"generated":{"line":1,"column":706}},{"source":"ts/particle.ts","name":null,"original":{"line":43,"column":14},"generated":{"line":1,"column":710}},{"source":"ts/particle.ts","name":null,"original":{"line":43,"column":21},"generated":{"line":1,"column":712}},{"source":"ts/particle.ts","name":null,"original":{"line":43,"column":26},"generated":{"line":1,"column":714}},{"source":"ts/particle.ts","name":null,"original":{"line":43,"column":28},"generated":{"line":1,"column":716}},{"source":"ts/particle.ts","name":null,"original":{"line":43,"column":34},"generated":{"line":1,"column":722}},{"source":"ts/particle.ts","name":null,"original":{"line":43,"column":39},"generated":{"line":1,"column":724}},{"source":"ts/particle.ts","name":null,"original":{"line":44,"column":14},"generated":{"line":1,"column":727}},{"source":"ts/particle.ts","name":null,"original":{"line":44,"column":21},"generated":{"line":1,"column":729}},{"source":"ts/particle.ts","name":null,"original":{"line":44,"column":23},"generated":{"line":1,"column":731}},{"source":"ts/particle.ts","name":null,"original":{"line":44,"column":25},"generated":{"line":1,"column":733}},{"source":"ts/particle.ts","name":null,"original":{"line":44,"column":31},"generated":{"line":1,"column":739}},{"source":"ts/particle.ts","name":null,"original":{"line":44,"column":33},"generated":{"line":1,"column":741}},{"source":"ts/particle.ts","name":null,"original":{"line":47,"column":14},"generated":{"line":1,"column":744}},{"source":"ts/particle.ts","name":null,"original":{"line":45,"column":20},"generated":{"line":1,"column":747}},{"source":"ts/particle.ts","name":null,"original":{"line":45,"column":25},"generated":{"line":1,"column":749}},{"source":"ts/particle.ts","name":null,"original":{"line":45,"column":29},"generated":{"line":1,"column":753}},{"source":"ts/particle.ts","name":null,"original":{"line":45,"column":34},"generated":{"line":1,"column":755}},{"source":"ts/particle.ts","name":null,"original":{"line":45,"column":41},"generated":{"line":1,"column":762}},{"source":"ts/particle.ts","name":null,"original":{"line":45,"column":47},"generated":{"line":1,"column":768}},{"source":"ts/particle.ts","name":null,"original":{"line":45,"column":50},"generated":{"line":1,"column":771}},{"source":"ts/particle.ts","name":null,"original":{"line":45,"column":55},"generated":{"line":1,"column":773}},{"source":"ts/particle.ts","name":null,"original":{"line":45,"column":57},"generated":{"line":1,"column":775}},{"source":"ts/particle.ts","name":null,"original":{"line":45,"column":59},"generated":{"line":1,"column":777}},{"source":"ts/particle.ts","name":null,"original":{"line":47,"column":19},"generated":{"line":1,"column":781}},{"source":"ts/particle.ts","name":null,"original":{"line":47,"column":23},"generated":{"line":1,"column":785}},{"source":"ts/particle.ts","name":null,"original":{"line":48,"column":10},"generated":{"line":1,"column":787}},{"source":"ts/particle.ts","name":null,"original":{"line":48,"column":15},"generated":{"line":1,"column":789}},{"source":"ts/particle.ts","name":null,"original":{"line":49,"column":10},"generated":{"line":1,"column":793}},{"source":"ts/particle.ts","name":null,"original":{"line":49,"column":15},"generated":{"line":1,"column":795}},{"source":"ts/particle.ts","name":null,"original":{"line":49,"column":19},"generated":{"line":1,"column":797}},{"source":"ts/particle.ts","name":null,"original":{"line":49,"column":21},"generated":{"line":1,"column":799}},{"source":"ts/particle.ts","name":null,"original":{"line":50,"column":10},"generated":{"line":1,"column":801}},{"source":"ts/particle.ts","name":null,"original":{"line":50,"column":14},"generated":{"line":1,"column":805}},{"source":"ts/particle.ts","name":null,"original":{"line":50,"column":14},"generated":{"line":1,"column":807}},{"source":"ts/particle.ts","name":null,"original":{"line":50,"column":21},"generated":{"line":1,"column":814}},{"source":"ts/particle.ts","name":null,"original":{"line":50,"column":24},"generated":{"line":1,"column":816}},{"source":"ts/particle.ts","name":null,"original":{"line":51,"column":10},"generated":{"line":1,"column":819}},{"source":"ts/particle.ts","name":null,"original":{"line":51,"column":14},"generated":{"line":1,"column":823}},{"source":"ts/particle.ts","name":null,"original":{"line":51,"column":14},"generated":{"line":1,"column":825}},{"source":"ts/particle.ts","name":null,"original":{"line":51,"column":21},"generated":{"line":1,"column":832}},{"source":"ts/particle.ts","name":null,"original":{"line":51,"column":24},"generated":{"line":1,"column":834}},{"source":"ts/particle.ts","name":null,"original":{"line":52,"column":10},"generated":{"line":1,"column":837}},{"source":"ts/particle.ts","name":null,"original":{"line":52,"column":15},"generated":{"line":1,"column":839}},{"source":"ts/particle.ts","name":null,"original":{"line":53,"column":10},"generated":{"line":1,"column":844}},{"source":"ts/particle.ts","name":null,"original":{"line":54,"column":11},"generated":{"line":1,"column":846}},{"source":"ts/particle.ts","name":null,"original":{"line":54,"column":16},"generated":{"line":1,"column":851}},{"source":"ts/particle.ts","name":null,"original":{"line":54,"column":21},"generated":{"line":1,"column":856}},{"source":"ts/particle.ts","name":null,"original":{"line":54,"column":21},"generated":{"line":1,"column":861}},{"source":"ts/particle.ts","name":null,"original":{"line":54,"column":21},"generated":{"line":1,"column":865}},{"source":"ts/particle.ts","name":null,"original":{"line":54,"column":26},"generated":{"line":1,"column":867}},{"source":"ts/particle.ts","name":null,"original":{"line":54,"column":29},"generated":{"line":1,"column":869}},{"source":"ts/particle.ts","name":null,"original":{"line":54,"column":33},"generated":{"line":1,"column":872}},{"source":"ts/particle.ts","name":null,"original":{"line":54,"column":33},"generated":{"line":1,"column":877}},{"source":"ts/particle.ts","name":null,"original":{"line":54,"column":33},"generated":{"line":1,"column":881}},{"source":"ts/particle.ts","name":null,"original":{"line":54,"column":35},"generated":{"line":1,"column":883}},{"source":"ts/particle.ts","name":null,"original":{"line":54,"column":38},"generated":{"line":1,"column":885}},{"source":"ts/particle.ts","name":null,"original":{"line":62,"column":15},"generated":{"line":1,"column":891}},{"source":"ts/particle.ts","name":null,"original":{"line":56,"column":16},"generated":{"line":1,"column":898}},{"source":"ts/particle.ts","name":null,"original":{"line":56,"column":16},"generated":{"line":1,"column":906}},{"source":"ts/particle.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":1,"column":910}},{"source":"ts/particle.ts","name":null,"original":{"line":57,"column":14},"generated":{"line":1,"column":913}},{"source":"ts/particle.ts","name":null,"original":{"line":57,"column":14},"generated":{"line":1,"column":915}},{"source":"ts/particle.ts","name":null,"original":{"line":57,"column":24},"generated":{"line":1,"column":925}},{"source":"ts/particle.ts","name":null,"original":{"line":57,"column":29},"generated":{"line":1,"column":930}},{"source":"ts/particle.ts","name":null,"original":{"line":58,"column":14},"generated":{"line":1,"column":933}},{"source":"ts/particle.ts","name":null,"original":{"line":58,"column":14},"generated":{"line":1,"column":935}},{"source":"ts/particle.ts","name":null,"original":{"line":58,"column":26},"generated":{"line":1,"column":945}},{"source":"ts/particle.ts","name":null,"original":{"line":58,"column":32},"generated":{"line":1,"column":947}},{"source":"ts/particle.ts","name":null,"original":{"line":59,"column":11},"generated":{"line":1,"column":957}},{"source":"ts/particle.ts","name":null,"original":{"line":59,"column":18},"generated":{"line":1,"column":964}},{"source":"ts/particle.ts","name":null,"original":{"line":59,"column":18},"generated":{"line":1,"column":973}},{"source":"ts/particle.ts","name":null,"original":{"line":59,"column":23},"generated":{"line":1,"column":976}},{"source":"ts/particle.ts","name":null,"original":{"line":59,"column":25},"generated":{"line":1,"column":984}},{"source":"ts/particle.ts","name":null,"original":{"line":59,"column":27},"generated":{"line":1,"column":986}},{"source":"ts/particle.ts","name":null,"original":{"line":59,"column":34},"generated":{"line":1,"column":991}},{"source":"ts/particle.ts","name":null,"original":{"line":59,"column":39},"generated":{"line":1,"column":993}},{"source":"ts/particle.ts","name":null,"original":{"line":59,"column":45},"generated":{"line":1,"column":997}},{"source":"ts/particle.ts","name":null,"original":{"line":59,"column":47},"generated":{"line":1,"column":999}},{"source":"ts/particle.ts","name":null,"original":{"line":59,"column":54},"generated":{"line":1,"column":1004}},{"source":"ts/particle.ts","name":null,"original":{"line":59,"column":56},"generated":{"line":1,"column":1006}},{"source":"ts/particle.ts","name":null,"original":{"line":61,"column":16},"generated":{"line":1,"column":1012}},{"source":"ts/particle.ts","name":null,"original":{"line":61,"column":16},"generated":{"line":1,"column":1015}},{"source":"ts/particle.ts","name":null,"original":{"line":62,"column":15},"generated":{"line":1,"column":1017}},{"source":"ts/particle.ts","name":null,"original":{"line":64,"column":13},"generated":{"line":1,"column":1019}},{"source":"ts/particle.ts","name":null,"original":{"line":64,"column":13},"generated":{"line":1,"column":1025}},{"source":"ts/particle.ts","name":null,"original":{"line":65,"column":8},"generated":{"line":1,"column":1026}},{"source":"ts/particle.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":1,"column":1028}},{"source":"ts/particle.ts","name":null,"original":{"line":65,"column":15},"generated":{"line":1,"column":1031}},{"source":"ts/particle.ts","name":null,"original":{"line":66,"column":8},"generated":{"line":1,"column":1033}},{"source":"ts/particle.ts","name":null,"original":{"line":66,"column":10},"generated":{"line":1,"column":1035}},{"source":"ts/particle.ts","name":null,"original":{"line":66,"column":15},"generated":{"line":1,"column":1038}},{"source":"ts/particle.ts","name":null,"original":{"line":68,"column":7},"generated":{"line":1,"column":1042}},{"source":"ts/particle.ts","name":null,"original":{"line":68,"column":8},"generated":{"line":1,"column":1043}},{"source":"ts/particle.ts","name":null,"original":{"line":68,"column":11},"generated":{"line":1,"column":1045}},{"source":"ts/particle.ts","name":null,"original":{"line":75,"column":9},"generated":{"line":1,"column":1049}},{"source":"ts/particle.ts","name":null,"original":{"line":75,"column":9},"generated":{"line":1,"column":1054}},{"source":"ts/particle.ts","name":null,"original":{"line":75,"column":20},"generated":{"line":1,"column":1065}},{"source":"ts/particle.ts","name":null,"original":{"line":75,"column":24},"generated":{"line":1,"column":1067}},{"source":"ts/particle.ts","name":null,"original":{"line":79,"column":7},"generated":{"line":1,"column":1071}},{"source":"ts/particle.ts","name":null,"original":{"line":79,"column":12},"generated":{"line":1,"column":1076}},{"source":"ts/particle.ts","name":null,"original":{"line":79,"column":16},"generated":{"line":1,"column":1080}},{"source":"ts/particle.ts","name":null,"original":{"line":79,"column":20},"generated":{"line":1,"column":1082}},{"source":"ts/particle.ts","name":null,"original":{"line":79,"column":25},"generated":{"line":1,"column":1087}},{"source":"ts/particle.ts","name":null,"original":{"line":79,"column":29},"generated":{"line":1,"column":1089}},{"source":"ts/particle.ts","name":null,"original":{"line":79,"column":34},"generated":{"line":1,"column":1094}},{"source":"ts/particle.ts","name":null,"original":{"line":79,"column":38},"generated":{"line":1,"column":1098}},{"source":"ts/particle.ts","name":null,"original":{"line":79,"column":45},"generated":{"line":1,"column":1105}},{"source":"ts/particle.ts","name":null,"original":{"line":80,"column":6},"generated":{"line":1,"column":1112}},{"source":"ts/particle.ts","name":null,"original":{"line":80,"column":11},"generated":{"line":1,"column":1117}},{"source":"ts/particle.ts","name":null,"original":{"line":80,"column":15},"generated":{"line":1,"column":1121}},{"source":"ts/particle.ts","name":null,"original":{"line":80,"column":19},"generated":{"line":1,"column":1123}},{"source":"ts/particle.ts","name":null,"original":{"line":80,"column":24},"generated":{"line":1,"column":1128}},{"source":"ts/particle.ts","name":null,"original":{"line":80,"column":29},"generated":{"line":1,"column":1131}},{"source":"ts/particle.ts","name":null,"original":{"line":81,"column":13},"generated":{"line":1,"column":1136}},{"source":"ts/particle.ts","name":null,"original":{"line":81,"column":13},"generated":{"line":1,"column":1141}},{"source":"ts/particle.ts","name":null,"original":{"line":81,"column":15},"generated":{"line":1,"column":1143}},{"source":"ts/particle.ts","name":null,"original":{"line":81,"column":20},"generated":{"line":1,"column":1148}},{"source":"ts/particle.ts","name":null,"original":{"line":78,"column":22},"generated":{"line":1,"column":1150}},{"source":"ts/particle.ts","name":null,"original":{"line":78,"column":22},"generated":{"line":1,"column":1153}},{"source":"ts/particle.ts","name":null,"original":{"line":82,"column":13},"generated":{"line":1,"column":1158}},{"source":"ts/particle.ts","name":null,"original":{"line":82,"column":13},"generated":{"line":1,"column":1163}},{"source":"ts/particle.ts","name":null,"original":{"line":82,"column":15},"generated":{"line":1,"column":1165}},{"source":"ts/particle.ts","name":null,"original":{"line":82,"column":20},"generated":{"line":1,"column":1170}},{"source":"ts/particle.ts","name":null,"original":{"line":78,"column":22},"generated":{"line":1,"column":1172}},{"source":"ts/particle.ts","name":null,"original":{"line":78,"column":22},"generated":{"line":1,"column":1175}},{"source":"ts/particle.ts","name":null,"original":{"line":85,"column":7},"generated":{"line":1,"column":1182}},{"source":"ts/particle.ts","name":null,"original":{"line":85,"column":12},"generated":{"line":1,"column":1187}},{"source":"ts/particle.ts","name":null,"original":{"line":85,"column":16},"generated":{"line":1,"column":1191}},{"source":"ts/particle.ts","name":null,"original":{"line":85,"column":20},"generated":{"line":1,"column":1193}},{"source":"ts/particle.ts","name":null,"original":{"line":85,"column":25},"generated":{"line":1,"column":1198}},{"source":"ts/particle.ts","name":null,"original":{"line":85,"column":29},"generated":{"line":1,"column":1200}},{"source":"ts/particle.ts","name":null,"original":{"line":85,"column":34},"generated":{"line":1,"column":1205}},{"source":"ts/particle.ts","name":null,"original":{"line":85,"column":38},"generated":{"line":1,"column":1209}},{"source":"ts/particle.ts","name":null,"original":{"line":85,"column":45},"generated":{"line":1,"column":1216}},{"source":"ts/particle.ts","name":null,"original":{"line":86,"column":6},"generated":{"line":1,"column":1224}},{"source":"ts/particle.ts","name":null,"original":{"line":86,"column":11},"generated":{"line":1,"column":1229}},{"source":"ts/particle.ts","name":null,"original":{"line":86,"column":15},"generated":{"line":1,"column":1233}},{"source":"ts/particle.ts","name":null,"original":{"line":86,"column":19},"generated":{"line":1,"column":1235}},{"source":"ts/particle.ts","name":null,"original":{"line":86,"column":24},"generated":{"line":1,"column":1240}},{"source":"ts/particle.ts","name":null,"original":{"line":86,"column":29},"generated":{"line":1,"column":1243}},{"source":"ts/particle.ts","name":null,"original":{"line":87,"column":13},"generated":{"line":1,"column":1248}},{"source":"ts/particle.ts","name":null,"original":{"line":87,"column":13},"generated":{"line":1,"column":1253}},{"source":"ts/particle.ts","name":null,"original":{"line":87,"column":15},"generated":{"line":1,"column":1255}},{"source":"ts/particle.ts","name":null,"original":{"line":87,"column":20},"generated":{"line":1,"column":1260}},{"source":"ts/particle.ts","name":null,"original":{"line":78,"column":22},"generated":{"line":1,"column":1261}},{"source":"ts/particle.ts","name":null,"original":{"line":78,"column":22},"generated":{"line":1,"column":1265}},{"source":"ts/particle.ts","name":null,"original":{"line":88,"column":13},"generated":{"line":1,"column":1270}},{"source":"ts/particle.ts","name":null,"original":{"line":88,"column":13},"generated":{"line":1,"column":1275}},{"source":"ts/particle.ts","name":null,"original":{"line":88,"column":15},"generated":{"line":1,"column":1277}},{"source":"ts/particle.ts","name":null,"original":{"line":88,"column":20},"generated":{"line":1,"column":1282}},{"source":"ts/particle.ts","name":null,"original":{"line":78,"column":22},"generated":{"line":1,"column":1283}},{"source":"ts/particle.ts","name":null,"original":{"line":78,"column":22},"generated":{"line":1,"column":1287}},{"source":"ts/particle.ts","name":null,"original":{"line":92,"column":2},"generated":{"line":1,"column":1294}},{"source":"ts/particle.ts","name":null,"original":{"line":92,"column":2},"generated":{"line":1,"column":1296}},{"source":"ts/particle.ts","name":null,"original":{"line":92,"column":2},"generated":{"line":1,"column":1306}},{"source":"ts/particle.ts","name":null,"original":{"line":92,"column":2},"generated":{"line":1,"column":1311}},{"source":"ts/particle.ts","name":null,"original":{"line":92,"column":7},"generated":{"line":1,"column":1320}},{"source":"ts/particle.ts","name":null,"original":{"line":94,"column":8},"generated":{"line":1,"column":1323}},{"source":"ts/particle.ts","name":null,"original":{"line":94,"column":8},"generated":{"line":1,"column":1325}},{"source":"ts/particle.ts","name":null,"original":{"line":95,"column":8},"generated":{"line":1,"column":1337}},{"source":"ts/particle.ts","name":null,"original":{"line":95,"column":8},"generated":{"line":1,"column":1339}},{"source":"ts/particle.ts","name":null,"original":{"line":95,"column":12},"generated":{"line":1,"column":1343}},{"source":"ts/particle.ts","name":null,"original":{"line":95,"column":17},"generated":{"line":1,"column":1348}},{"source":"ts/particle.ts","name":null,"original":{"line":95,"column":21},"generated":{"line":1,"column":1352}},{"source":"ts/particle.ts","name":null,"original":{"line":95,"column":24},"generated":{"line":1,"column":1354}},{"source":"ts/particle.ts","name":null,"original":{"line":95,"column":29},"generated":{"line":1,"column":1359}},{"source":"ts/particle.ts","name":null,"original":{"line":95,"column":33},"generated":{"line":1,"column":1363}},{"source":"ts/particle.ts","name":null,"original":{"line":95,"column":36},"generated":{"line":1,"column":1365}},{"source":"ts/particle.ts","name":null,"original":{"line":95,"column":41},"generated":{"line":1,"column":1370}},{"source":"ts/particle.ts","name":null,"original":{"line":95,"column":44},"generated":{"line":1,"column":1372}},{"source":"ts/particle.ts","name":null,"original":{"line":95,"column":55},"generated":{"line":1,"column":1374}},{"source":"ts/particle.ts","name":null,"original":{"line":95,"column":47},"generated":{"line":1,"column":1376}},{"source":"ts/particle.ts","name":null,"original":{"line":95,"column":52},"generated":{"line":1,"column":1381}},{"source":"ts/particle.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":1385}},{"source":"ts/particle.ts","name":null,"original":{"line":96,"column":12},"generated":{"line":1,"column":1390}},{"source":"ts/particle.ts","name":null,"original":{"line":96,"column":19},"generated":{"line":1,"column":1396}},{"source":"ts/particle.ts","name":null,"original":{"line":96,"column":23},"generated":{"line":1,"column":1398}},{"source":"ts/particle.ts","name":null,"original":{"line":96,"column":35},"generated":{"line":1,"column":1408}},{"source":"ts/particle.ts","name":null,"original":{"line":97,"column":9},"generated":{"line":1,"column":1414}},{"source":"ts/particle.ts","name":null,"original":{"line":97,"column":13},"generated":{"line":1,"column":1416}},{"source":"ts/particle.ts","name":null,"original":{"line":97,"column":25},"generated":{"line":1,"column":1426}},{"source":"ts/particle.ts","name":null,"original":{"line":98,"column":8},"generated":{"line":1,"column":1434}},{"source":"ts/particle.ts","name":null,"original":{"line":98,"column":8},"generated":{"line":1,"column":1436}},{"source":"ts/particle.ts","name":null,"original":{"line":99,"column":8},"generated":{"line":1,"column":1443}},{"source":"ts/particle.ts","name":null,"original":{"line":99,"column":8},"generated":{"line":1,"column":1445}},{"source":"ts/particle.ts","name":null,"original":{"line":103,"column":9},"generated":{"line":1,"column":1458}},{"source":"ts/particle.ts","name":null,"original":{"line":103,"column":9},"generated":{"line":1,"column":1460}},{"source":"ts/particle.ts","name":null,"original":{"line":103,"column":2},"generated":{"line":1,"column":1469}},{"source":"ts/particle.ts","name":null,"original":{"line":103,"column":18},"generated":{"line":1,"column":1478}},{"source":"ts/particle.ts","name":null,"original":{"line":103,"column":32},"generated":{"line":1,"column":1480}},{"source":"ts/particle.ts","name":null,"original":{"line":106,"column":11},"generated":{"line":1,"column":1483}},{"source":"ts/particle.ts","name":null,"original":{"line":104,"column":14},"generated":{"line":1,"column":1490}},{"source":"ts/particle.ts","name":null,"original":{"line":104,"column":19},"generated":{"line":1,"column":1495}},{"source":"ts/particle.ts","name":null,"original":{"line":104,"column":24},"generated":{"line":1,"column":1500}},{"source":"ts/particle.ts","name":null,"original":{"line":104,"column":27},"generated":{"line":1,"column":1502}},{"source":"ts/particle.ts","name":null,"original":{"line":104,"column":31},"generated":{"line":1,"column":1506}},{"source":"ts/particle.ts","name":null,"original":{"line":104,"column":35},"generated":{"line":1,"column":1508}},{"source":"ts/particle.ts","name":null,"original":{"line":104,"column":38},"generated":{"line":1,"column":1510}},{"source":"ts/particle.ts","name":null,"original":{"line":104,"column":42},"generated":{"line":1,"column":1514}},{"source":"ts/particle.ts","name":null,"original":{"line":105,"column":6},"generated":{"line":1,"column":1517}},{"source":"ts/particle.ts","name":null,"original":{"line":105,"column":11},"generated":{"line":1,"column":1522}},{"source":"ts/particle.ts","name":null,"original":{"line":105,"column":16},"generated":{"line":1,"column":1527}},{"source":"ts/particle.ts","name":null,"original":{"line":105,"column":19},"generated":{"line":1,"column":1529}},{"source":"ts/particle.ts","name":null,"original":{"line":105,"column":23},"generated":{"line":1,"column":1533}},{"source":"ts/particle.ts","name":null,"original":{"line":105,"column":27},"generated":{"line":1,"column":1535}},{"source":"ts/particle.ts","name":null,"original":{"line":105,"column":30},"generated":{"line":1,"column":1537}},{"source":"ts/particle.ts","name":null,"original":{"line":105,"column":34},"generated":{"line":1,"column":1541}},{"source":"ts/particle.ts","name":null,"original":{"line":106,"column":15},"generated":{"line":1,"column":1544}},{"source":"ts/particle.ts","name":null,"original":{"line":106,"column":18},"generated":{"line":1,"column":1546}},{"source":"ts/particle.ts","name":null,"original":{"line":106,"column":22},"generated":{"line":1,"column":1550}},{"source":"ts/particle.ts","name":null,"original":{"line":106,"column":27},"generated":{"line":1,"column":1555}},{"source":"ts/particle.ts","name":null,"original":{"line":106,"column":30},"generated":{"line":1,"column":1557}},{"source":"ts/particle.ts","name":null,"original":{"line":106,"column":34},"generated":{"line":1,"column":1561}},{"source":"ts/particle.ts","name":null,"original":{"line":112,"column":9},"generated":{"line":1,"column":1569}},{"source":"ts/particle.ts","name":null,"original":{"line":112,"column":9},"generated":{"line":1,"column":1571}},{"source":"ts/particle.ts","name":null,"original":{"line":112,"column":2},"generated":{"line":1,"column":1581}},{"source":"ts/particle.ts","name":null,"original":{"line":112,"column":19},"generated":{"line":1,"column":1590}},{"source":"ts/particle.ts","name":null,"original":{"line":112,"column":33},"generated":{"line":1,"column":1592}},{"source":"ts/particle.ts","name":null,"original":{"line":113,"column":10},"generated":{"line":1,"column":1595}},{"source":"ts/particle.ts","name":null,"original":{"line":113,"column":10},"generated":{"line":1,"column":1599}},{"source":"ts/particle.ts","name":null,"original":{"line":113,"column":14},"generated":{"line":1,"column":1601}},{"source":"ts/particle.ts","name":null,"original":{"line":113,"column":19},"generated":{"line":1,"column":1606}},{"source":"ts/particle.ts","name":null,"original":{"line":113,"column":23},"generated":{"line":1,"column":1610}},{"source":"ts/particle.ts","name":null,"original":{"line":113,"column":26},"generated":{"line":1,"column":1612}},{"source":"ts/particle.ts","name":null,"original":{"line":113,"column":30},"generated":{"line":1,"column":1616}},{"source":"ts/particle.ts","name":null,"original":{"line":113,"column":34},"generated":{"line":1,"column":1618}},{"source":"ts/particle.ts","name":null,"original":{"line":113,"column":37},"generated":{"line":1,"column":1620}},{"source":"ts/particle.ts","name":null,"original":{"line":113,"column":41},"generated":{"line":1,"column":1624}},{"source":"ts/particle.ts","name":null,"original":{"line":114,"column":10},"generated":{"line":1,"column":1627}},{"source":"ts/particle.ts","name":null,"original":{"line":114,"column":14},"generated":{"line":1,"column":1629}},{"source":"ts/particle.ts","name":null,"original":{"line":114,"column":19},"generated":{"line":1,"column":1634}},{"source":"ts/particle.ts","name":null,"original":{"line":114,"column":23},"generated":{"line":1,"column":1638}},{"source":"ts/particle.ts","name":null,"original":{"line":114,"column":26},"generated":{"line":1,"column":1640}},{"source":"ts/particle.ts","name":null,"original":{"line":114,"column":30},"generated":{"line":1,"column":1644}},{"source":"ts/particle.ts","name":null,"original":{"line":114,"column":34},"generated":{"line":1,"column":1646}},{"source":"ts/particle.ts","name":null,"original":{"line":114,"column":37},"generated":{"line":1,"column":1648}},{"source":"ts/particle.ts","name":null,"original":{"line":114,"column":41},"generated":{"line":1,"column":1652}},{"source":"ts/particle.ts","name":null,"original":{"line":116,"column":11},"generated":{"line":1,"column":1655}},{"source":"ts/particle.ts","name":null,"original":{"line":116,"column":11},"generated":{"line":1,"column":1662}},{"source":"ts/particle.ts","name":null,"original":{"line":116,"column":16},"generated":{"line":1,"column":1667}},{"source":"ts/particle.ts","name":null,"original":{"line":116,"column":21},"generated":{"line":1,"column":1672}},{"source":"ts/particle.ts","name":null,"original":{"line":116,"column":23},"generated":{"line":1,"column":1674}},{"source":"ts/particle.ts","name":null,"original":{"line":119,"column":9},"generated":{"line":1,"column":1678}},{"source":"ts/particle.ts","name":null,"original":{"line":119,"column":9},"generated":{"line":1,"column":1680}},{"source":"ts/particle.ts","name":null,"original":{"line":119,"column":2},"generated":{"line":1,"column":1690}},{"source":"ts/particle.ts","name":null,"original":{"line":119,"column":19},"generated":{"line":1,"column":1699}},{"source":"ts/particle.ts","name":null,"original":{"line":119,"column":33},"generated":{"line":1,"column":1701}},{"source":"ts/particle.ts","name":null,"original":{"line":120,"column":10},"generated":{"line":1,"column":1704}},{"source":"ts/particle.ts","name":null,"original":{"line":120,"column":10},"generated":{"line":1,"column":1708}},{"source":"ts/particle.ts","name":null,"original":{"line":120,"column":14},"generated":{"line":1,"column":1710}},{"source":"ts/particle.ts","name":null,"original":{"line":120,"column":19},"generated":{"line":1,"column":1715}},{"source":"ts/particle.ts","name":null,"original":{"line":120,"column":23},"generated":{"line":1,"column":1719}},{"source":"ts/particle.ts","name":null,"original":{"line":120,"column":26},"generated":{"line":1,"column":1721}},{"source":"ts/particle.ts","name":null,"original":{"line":120,"column":30},"generated":{"line":1,"column":1725}},{"source":"ts/particle.ts","name":null,"original":{"line":120,"column":34},"generated":{"line":1,"column":1727}},{"source":"ts/particle.ts","name":null,"original":{"line":120,"column":37},"generated":{"line":1,"column":1729}},{"source":"ts/particle.ts","name":null,"original":{"line":120,"column":41},"generated":{"line":1,"column":1733}},{"source":"ts/particle.ts","name":null,"original":{"line":120,"column":47},"generated":{"line":1,"column":1737}},{"source":"ts/particle.ts","name":null,"original":{"line":121,"column":10},"generated":{"line":1,"column":1739}},{"source":"ts/particle.ts","name":null,"original":{"line":121,"column":14},"generated":{"line":1,"column":1741}},{"source":"ts/particle.ts","name":null,"original":{"line":121,"column":19},"generated":{"line":1,"column":1746}},{"source":"ts/particle.ts","name":null,"original":{"line":121,"column":23},"generated":{"line":1,"column":1750}},{"source":"ts/particle.ts","name":null,"original":{"line":121,"column":26},"generated":{"line":1,"column":1752}},{"source":"ts/particle.ts","name":null,"original":{"line":121,"column":30},"generated":{"line":1,"column":1756}},{"source":"ts/particle.ts","name":null,"original":{"line":121,"column":34},"generated":{"line":1,"column":1758}},{"source":"ts/particle.ts","name":null,"original":{"line":121,"column":37},"generated":{"line":1,"column":1760}},{"source":"ts/particle.ts","name":null,"original":{"line":121,"column":41},"generated":{"line":1,"column":1764}},{"source":"ts/particle.ts","name":null,"original":{"line":121,"column":47},"generated":{"line":1,"column":1768}},{"source":"ts/particle.ts","name":null,"original":{"line":122,"column":11},"generated":{"line":1,"column":1770}},{"source":"ts/particle.ts","name":null,"original":{"line":122,"column":11},"generated":{"line":1,"column":1776}},{"source":"ts/particle.ts","name":null,"original":{"line":122,"column":12},"generated":{"line":1,"column":1777}},{"source":"ts/particle.ts","name":null,"original":{"line":122,"column":14},"generated":{"line":1,"column":1779}},{"source":"ts/particle.ts","name":null,"original":{"line":122,"column":17},"generated":{"line":1,"column":1781}},{"source":"ts/particle.ts","name":null,"original":{"line":122,"column":19},"generated":{"line":1,"column":1783}},{"source":"ts/particle.ts","name":null,"original":{"line":130,"column":9},"generated":{"line":1,"column":1787}},{"source":"ts/particle.ts","name":null,"original":{"line":130,"column":9},"generated":{"line":1,"column":1789}},{"source":"ts/particle.ts","name":null,"original":{"line":130,"column":2},"generated":{"line":1,"column":1799}},{"source":"ts/particle.ts","name":null,"original":{"line":130,"column":19},"generated":{"line":1,"column":1808}},{"source":"ts/particle.ts","name":null,"original":{"line":130,"column":33},"generated":{"line":1,"column":1810}},{"source":"ts/particle.ts","name":null,"original":{"line":134,"column":10},"generated":{"line":1,"column":1813}},{"source":"ts/particle.ts","name":null,"original":{"line":131,"column":21},"generated":{"line":1,"column":1817}},{"source":"ts/particle.ts","name":null,"original":{"line":131,"column":32},"generated":{"line":1,"column":1819}},{"source":"ts/particle.ts","name":null,"original":{"line":131,"column":43},"generated":{"line":1,"column":1821}},{"source":"ts/particle.ts","name":null,"original":{"line":134,"column":10},"generated":{"line":1,"column":1823}},{"source":"ts/particle.ts","name":null,"original":{"line":134,"column":14},"generated":{"line":1,"column":1825}},{"source":"ts/particle.ts","name":null,"original":{"line":134,"column":22},"generated":{"line":1,"column":1830}},{"source":"ts/particle.ts","name":null,"original":{"line":134,"column":22},"generated":{"line":1,"column":1835}},{"source":"ts/particle.ts","name":null,"original":{"line":134,"column":22},"generated":{"line":1,"column":1839}},{"source":"ts/particle.ts","name":null,"original":{"line":134,"column":27},"generated":{"line":1,"column":1843}},{"source":"ts/particle.ts","name":null,"original":{"line":135,"column":10},"generated":{"line":1,"column":1846}},{"source":"ts/particle.ts","name":null,"original":{"line":135,"column":14},"generated":{"line":1,"column":1848}},{"source":"ts/particle.ts","name":null,"original":{"line":135,"column":23},"generated":{"line":1,"column":1850}},{"source":"ts/particle.ts","name":null,"original":{"line":135,"column":32},"generated":{"line":1,"column":1859}},{"source":"ts/particle.ts","name":null,"original":{"line":135,"column":36},"generated":{"line":1,"column":1861}},{"source":"ts/particle.ts","name":null,"original":{"line":136,"column":10},"generated":{"line":1,"column":1864}},{"source":"ts/particle.ts","name":null,"original":{"line":131,"column":21},"generated":{"line":1,"column":1867}},{"source":"ts/particle.ts","name":null,"original":{"line":136,"column":22},"generated":{"line":1,"column":1869}},{"source":"ts/particle.ts","name":null,"original":{"line":136,"column":25},"generated":{"line":1,"column":1871}},{"source":"ts/particle.ts","name":null,"original":{"line":131,"column":32},"generated":{"line":1,"column":1873}},{"source":"ts/particle.ts","name":null,"original":{"line":136,"column":28},"generated":{"line":1,"column":1875}},{"source":"ts/particle.ts","name":null,"original":{"line":136,"column":31},"generated":{"line":1,"column":1877}},{"source":"ts/particle.ts","name":null,"original":{"line":131,"column":43},"generated":{"line":1,"column":1879}},{"source":"ts/particle.ts","name":null,"original":{"line":136,"column":34},"generated":{"line":1,"column":1881}},{"source":"ts/particle.ts","name":null,"original":{"line":132,"column":13},"generated":{"line":1,"column":1883}},{"source":"ts/particle.ts","name":null,"original":{"line":132,"column":15},"generated":{"line":1,"column":1885}},{"source":"ts/particle.ts","name":null,"original":{"line":132,"column":17},"generated":{"line":1,"column":1887}},{"source":"ts/particle.ts","name":null,"original":{"line":132,"column":20},"generated":{"line":1,"column":1889}},{"source":"ts/particle.ts","name":null,"original":{"line":132,"column":20},"generated":{"line":1,"column":1894}},{"source":"ts/particle.ts","name":null,"original":{"line":132,"column":20},"generated":{"line":1,"column":1898}},{"source":"ts/particle.ts","name":null,"original":{"line":132,"column":23},"generated":{"line":1,"column":1900}},{"source":"ts/particle.ts","name":null,"original":{"line":137,"column":10},"generated":{"line":1,"column":1904}},{"source":"ts/particle.ts","name":null,"original":{"line":137,"column":15},"generated":{"line":1,"column":1906}},{"source":"ts/particle.ts","name":null,"original":{"line":137,"column":24},"generated":{"line":1,"column":1908}},{"source":"ts/particle.ts","name":null,"original":{"line":137,"column":34},"generated":{"line":1,"column":1918}},{"source":"ts/particle.ts","name":null,"original":{"line":137,"column":38},"generated":{"line":1,"column":1920}},{"source":"ts/particle.ts","name":null,"original":{"line":138,"column":11},"generated":{"line":1,"column":1923}},{"source":"ts/particle.ts","name":null,"original":{"line":138,"column":11},"generated":{"line":1,"column":1929}},{"source":"ts/particle.ts","name":null,"original":{"line":139,"column":8},"generated":{"line":1,"column":1931}},{"source":"ts/particle.ts","name":null,"original":{"line":139,"column":13},"generated":{"line":1,"column":1936}},{"source":"ts/particle.ts","name":null,"original":{"line":139,"column":18},"generated":{"line":1,"column":1941}},{"source":"ts/particle.ts","name":null,"original":{"line":139,"column":21},"generated":{"line":1,"column":1943}},{"source":"ts/particle.ts","name":null,"original":{"line":139,"column":25},"generated":{"line":1,"column":1947}},{"source":"ts/particle.ts","name":null,"original":{"line":139,"column":29},"generated":{"line":1,"column":1949}},{"source":"ts/particle.ts","name":null,"original":{"line":139,"column":32},"generated":{"line":1,"column":1951}},{"source":"ts/particle.ts","name":null,"original":{"line":139,"column":36},"generated":{"line":1,"column":1955}},{"source":"ts/particle.ts","name":null,"original":{"line":139,"column":40},"generated":{"line":1,"column":1958}},{"source":"ts/particle.ts","name":null,"original":{"line":139,"column":42},"generated":{"line":1,"column":1960}},{"source":"ts/particle.ts","name":null,"original":{"line":139,"column":47},"generated":{"line":1,"column":1965}},{"source":"ts/particle.ts","name":null,"original":{"line":139,"column":51},"generated":{"line":1,"column":1969}},{"source":"ts/particle.ts","name":null,"original":{"line":140,"column":8},"generated":{"line":1,"column":1973}},{"source":"ts/particle.ts","name":null,"original":{"line":140,"column":13},"generated":{"line":1,"column":1978}},{"source":"ts/particle.ts","name":null,"original":{"line":140,"column":18},"generated":{"line":1,"column":1983}},{"source":"ts/particle.ts","name":null,"original":{"line":140,"column":21},"generated":{"line":1,"column":1985}},{"source":"ts/particle.ts","name":null,"original":{"line":140,"column":25},"generated":{"line":1,"column":1989}},{"source":"ts/particle.ts","name":null,"original":{"line":140,"column":29},"generated":{"line":1,"column":1991}},{"source":"ts/particle.ts","name":null,"original":{"line":140,"column":32},"generated":{"line":1,"column":1993}},{"source":"ts/particle.ts","name":null,"original":{"line":140,"column":36},"generated":{"line":1,"column":1997}},{"source":"ts/particle.ts","name":null,"original":{"line":140,"column":40},"generated":{"line":1,"column":2000}},{"source":"ts/particle.ts","name":null,"original":{"line":140,"column":42},"generated":{"line":1,"column":2002}},{"source":"ts/particle.ts","name":null,"original":{"line":140,"column":47},"generated":{"line":1,"column":2007}},{"source":"ts/particle.ts","name":null,"original":{"line":140,"column":51},"generated":{"line":1,"column":2011}},{"source":"ts/particle.ts","name":null,"original":{"line":143,"column":0},"generated":{"line":1,"column":2016}},{"source":"ts/particle.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":2018}},{"source":"ts/particle.ts","name":null,"original":{"line":3,"column":13},"generated":{"line":1,"column":2021}},{"source":"ts/particle.ts","name":null,"original":{"line":3,"column":13},"generated":{"line":1,"column":2029}},{"source":"ts/particle.ts","name":null,"original":{"line":3,"column":13},"generated":{"line":1,"column":2038}}],"sources":{"ts/particle.ts":"import { Vector } from \"./vector\";\r\n\r\nexport class Particle { \r\n  pos: Vector\r\n  m: number\r\n  r: number\r\n  v: Vector\r\n  a: Vector\r\n  ctx: CanvasRenderingContext2D\r\n  id: string\r\n  added: boolean\r\n  constructor(position: Vector, mass: number, a0: Vector, v0: Vector, ctx: CanvasRenderingContext2D, added: boolean = false, r: number = mass) {\r\n    this.pos = position\r\n    this.m = mass\r\n    this.r = r\r\n    this.a = a0\r\n    this.v = v0\r\n\r\n    this.ctx = ctx\r\n    this.id = (Math.random() * 10**12).toString(16)\r\n    this.added = added\r\n  }\r\n\r\n  applyForce(f: number[], dt: number) {\r\n    dt = dt/1000\r\n    const a = f.map(x => x/this.m)\r\n    this.a.add(a)\r\n    \r\n    const v = this.a.array.map(x => x*dt)\r\n    this.v.add(v)\r\n    \r\n    this.pos.add(this.v.array.map(x => x*dt))\r\n  }\r\n\r\n  update(state: {particles: Particle[]}, dt: number) { \r\n    let abort = false\r\n    const others = state.particles.filter(x => x.id !== this.id)\r\n    const Fw = others.reduce((f, p) => {\r\n      if(abort) return f\r\n      const [x, y] = Particle.calcForce(this, p)\r\n      const d = p.pos.dist(this.pos.array)\r\n      if(d < this.r + p.r) {\r\n        const mom1 = this.v.scale(this.m)\r\n        const mom2 = p.v.scale(p.m)\r\n        const nv = (mom1.add(mom2.array).scale(1/(this.m+p.m)))\r\n\r\n        const np = new Particle(\r\n          this.pos,\r\n          this.m + p.m,\r\n          new Vector(0, 0),\r\n          new Vector(0, 0),\r\n          this.ctx,\r\n          false,\r\n          (Math.sqrt(this.r**2 + p.r**2))\r\n        )\r\n        console.log(np)\r\n        state.particles.push(np)\r\n        state.particles = state.particles\r\n          .filter(x => !(x.id === this.id || x.id === p.id))\r\n        \r\n        abort = true\r\n        return f\r\n      }\r\n      return [\r\n        f[0] + x,\r\n        f[1] + y\r\n      ]\r\n    }, [0, 0])\r\n\r\n    \r\n\r\n    // if(abort) return\r\n    // if(this.added) console.table(Fw)\r\n\r\n    this.applyForce(Fw, dt)\r\n    \r\n    // Wall hit detection\r\n    const hitScalar = 0.8\r\n    if(this.pos.h + this.r > this.ctx.canvas.width ||\r\n      this.pos.h - this.r <= 0 ) {\r\n        this.v.mult([-hitScalar, hitScalar])\r\n        this.a.mult([-hitScalar, hitScalar])\r\n      }\r\n\r\n    if(this.pos.v + this.r > this.ctx.canvas.height ||\r\n      this.pos.v - this.r <= 0 ) {\r\n        this.v.mult([hitScalar, -hitScalar])\r\n        this.a.mult([hitScalar, -hitScalar])\r\n      }\r\n  }\r\n\r\n  draw(ctx: CanvasRenderingContext2D) {\r\n\r\n    ctx.beginPath()\r\n    ctx.arc(this.pos.h, this.pos.v, this.r, 0, Math.PI*2)\r\n    if(this.added) ctx.fillStyle = 'red'\r\n    else ctx.fillStyle = 'white'\r\n    ctx.fill()\r\n    ctx.closePath()\r\n\r\n  }\r\n\r\n  static calcDist(p1: Particle, p2: Particle) {\r\n    const s = Math.sign(p1.pos.h - p2.pos.h) * \r\n      Math.sign(p1.pos.v - p2.pos.v)\r\n    return s * p1.pos.dist(p2.pos.array)\r\n  }\r\n\r\n  /**\r\n   * Returns an array of angles [p1, p2]\r\n   */\r\n  static calcAngle(p1: Particle, p2: Particle) {\r\n    const h = Math.abs(p1.pos.h - p2.pos.h) \r\n    const v = Math.abs(p1.pos.v - p2.pos.v)\r\n\r\n    return Math.atan(v/h)\r\n  }\r\n\r\n  static calcRatio(p1: Particle, p2: Particle) {\r\n    const b = Math.abs(p1.pos.h - p2.pos.h) || 1\r\n    const a = Math.abs(p1.pos.v - p2.pos.v) || 1\r\n    return [a/b, b/a]\r\n  }\r\n\r\n  /**\r\n   * Returns an array of forces [horizonal, vertical] with which particles work on each other\r\n   * @param p1 {Particle}\r\n   * @param p2 {Particle}\r\n   */\r\n  static calcForce(p1: Particle, p2: Particle): number[] {\r\n    function formula(M: number, m: number, r: number) {\r\n      return G*M*m/(r**2)\r\n    }\r\n    const G = 6.67 * (10**-5);\r\n    const d = Particle.calcDist(p1, p2)\r\n    const f = formula(p1.m, p2.m, d)\r\n    const th = Particle.calcAngle(p1 ,p2)\r\n    return [\r\n      -(Math.sign(p1.pos.h - p2.pos.h))*f*Math.cos(th),\r\n      -(Math.sign(p1.pos.v - p2.pos.v))*f*Math.sin(th),\r\n    ]\r\n  }\r\n}"},"lineCount":null}},"hash":"dadf207e471676aa8d274ec027eab186","cacheData":{"env":{}},"id":7}